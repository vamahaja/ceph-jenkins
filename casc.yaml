jenkins:
  systemMessage: "Ceph Jenkins Controller"
  numExecutors: 0
  mode: EXCLUSIVE

  # Security configuration
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "admin"

  # Authorization configuration
  authorizationStrategy:
    globalMatrix:
      entries:
        - user:
            name: "admin"
            permissions:
              - "Overall/Administer"
        - user:
            name: "anonymous"
            permissions:
              - "Overall/Read"

  # Agent node configuration
  nodes:
    - permanent:
        name: "ceph-agent"
        remoteFS: "/home/jenkins"
        labelString: "teuthology"
        mode: NORMAL
        numExecutors: 10
        launcher:
          ssh:
            port: 22
            credentialsId: "ceph-agent-ssh-key"
            sshHostKeyVerificationStrategy: "nonVerifyingKeyVerificationStrategy"

# Credentials configuration
credentials:
  system:
    domainCredentials:
      - credentials:
          - basicSSHUserPrivateKey:
              scope: SYSTEM
              id: "ceph-agent-ssh-key"
              username: "jenkins"
              description: "SSH Key for agent nodes"

# Seeder job
jobs:
  - file: "/var/jenkins_home/seed.groovy"
