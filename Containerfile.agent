# Use Fedora base image 
FROM fedora:39

# Install Java and dev tools
RUN dnf install -y \
    java-17-openjdk-headless \
    git \
    ceph-common \
    librados-devel \
    python3-devel \
    gcc \
    make \
    bash \
    && dnf clean all

# Create a non-root user for Jenkins to use
RUN useradd -m -s /bin/bash jenkins

# Ensure the agent has a workspace
WORKDIR /home/jenkins
USER jenkins
